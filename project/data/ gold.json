{
    "schema": [
        "actor",
        "action", 
        "system_response",
        "preconditions",
        "constraints",
        "exceptions"
    ],
    
    "items" : [
        {
            "id": "1",
            "actor": "Student",
            "action": "Search study rooms",
            "system_response": "Show study rooms with available seats based on search criteria.",
            "preconditions": [],
            "constraints": ["Must filter by campus, date, and time range"],
            "exceptions": []
        },
        {
            "id": "2",
            "actor": "Student",
            "action": "Reserve seats",
            "system_response": "Allow reservation of one or more seats for the chosen time slot.",
            "preconditions": ["Student is authenticated"],
            "constraints": ["Limited to chosen time slot"],
            "exceptions": []
        },
        {
            "id": "3",
            "actor": "Student",
            "action": "Attempt reservation with insufficient seats",
            "system_response": "Reject the reservation and suggest the nearest available slots.",
            "preconditions": ["Selected room has insufficient available seats"],
            "constraints": [],
            "exceptions": ["Insufficient available seats"]
        },
        {
            "id": "4",
            "actor": "System",
            "action": "Create reservation record",
            "system_response": "Store room identifier, date, start time, end time, and number of seats.",
            "preconditions": [],
            "constraints": ["Include all mandatory booking fields"],
            "exceptions": []
        },
        {
            "id": "5",
            "actor": "Student",
            "action": "Create a booking",
            "system_response": "Validate and allow/prevent booking based on daily and weekly limits.",
            "preconditions": [],
            "constraints": ["Max 2 active reservations per day", "Max 6 active reservations per week"],
            "exceptions": ["Booking limit exceeded"]
        },
        {
            "id": "6",
            "actor": "Student",
            "action": "Create booking for same time range",
            "system_response": "Block the creation of the new booking.",
            "preconditions": ["Student already has an active booking for the same time range"],
            "constraints": [],
            "exceptions": ["Overlapping booking conflict"]
        },
        {
            "id": "7",
            "actor": "Student",
            "action": "Cancel a booking",
            "system_response": "Cancel the booking; mark as late-cancel if done less than 30 mins before start.",
            "preconditions": [],
            "constraints": ["Cancel at least 30 minutes before start time"],
            "exceptions": ["Late-cancel status applied"]
        },
        {
            "id": "8",
            "actor": "System",
            "action": "Process cancellation",
            "system_response": "Release reserved seats and notify waitlisted students.",
            "preconditions": ["Reservation is canceled"],
            "constraints": ["Immediate release of seats"],
            "exceptions": []
        },
        {
            "id": "9",
            "actor": "Student",
            "action": "Join a waitlist",
            "system_response": "Add student to the waitlist for the specific room and date.",
            "preconditions": ["Room is fully booked"],
            "constraints": [],
            "exceptions": []
        },
        {
            "id": "10",
            "actor": "System",
            "action": "Notify waitlist",
            "system_response": "Offer slot to the first student on the list with a confirmation timer.",
            "preconditions": ["Room becomes available"],
            "constraints": ["10-minute confirmation window"],
            "exceptions": []
        },
        {
            "id": "11",
            "actor": "System",
            "action": "Process waitlist timeout",
            "system_response": "Offer the slot to the next student on the list.",
            "preconditions": ["Current student does not confirm within 10 minutes"],
            "constraints": [],
            "exceptions": ["Waitlist confirmation timeout"]
        },
        {
            "id": "12",
            "actor": "System",
            "action": "Send confirmation",
            "system_response": "Send email and in-app notification of successful booking.",
            "preconditions": ["Reservation is successful"],
            "constraints": ["Sent within 1 minute"],
            "exceptions": []
        },
        {
            "id": "13",
            "actor": "Student",
            "action": "Check in for reservation",
            "system_response": "Confirm and record the student's arrival.",
            "preconditions": ["Valid reservation exists"],
            "constraints": ["10 mins before to 15 mins after start time"],
            "exceptions": []
        },
        {
            "id": "14",
            "actor": "System",
            "action": "Process missed check-in",
            "system_response": "Automatically cancel booking and record a no-show.",
            "preconditions": ["No check-in by 15 minutes after start time"],
            "constraints": [],
            "exceptions": ["Automated no-show cancellation"]
        },
        {
            "id": "15",
            "actor": "System",
            "action": "Apply penalty",
            "system_response": "Suspend student booking privileges for 7 days.",
            "preconditions": ["Three no-shows recorded within 30 days"],
            "constraints": ["7-day suspension period"],
            "exceptions": ["Privilege suspension"]
        },
        {
            "id": "16",
            "actor": "System",
            "action": "Display room info",
            "system_response": "Show capacity, equipment, and accessibility details.",
            "preconditions": ["Before booking is initiated"],
            "constraints": [],
            "exceptions": []
        },
        {
            "id": "17",
            "actor": "Student",
            "action": "Filter rooms",
            "system_response": "Show rooms matching capacity and equipment requirements.",
            "preconditions": [],
            "constraints": ["Minimum capacity", "Required equipment"],
            "exceptions": []
        },
        {
            "id": "18",
            "actor": "Student",
            "action": "Request too many seats",
            "system_response": "Prevent reservation and explain the capacity limit.",
            "preconditions": ["Seats requested > seats available"],
            "constraints": [],
            "exceptions": ["Capacity constraint error"]
        },
        {
            "id": "19",
            "actor": "Student",
            "action": "Modify reservation",
            "system_response": "Update booking details if rules allow.",
            "preconditions": ["Must satisfy booking limits", "Must not overlap existing bookings"],
            "constraints": [],
            "exceptions": ["Modification rejected"]
        },
        {
            "id": "20",
            "actor": "System",
            "action": "Log audit data",
            "system_response": "Log event details with timestamp and user ID.",
            "preconditions": ["Booking event occurs (create, modify, cancel, no-show)"],
            "constraints": ["Immutable log entry"],
            "exceptions": []
        },
        {
            "id": "21",
            "actor": "Administrative Staff",
            "action": "Create/Define room",
            "system_response": "Save room campus, hours, and max reservation length.",
            "preconditions": ["Authorized staff access"],
            "constraints": [],
            "exceptions": []
        },
        {
            "id": "22",
            "actor": "System",
            "action": "Enforce booking duration",
            "system_response": "Restrict reservation duration to the room's maximum limit.",
            "preconditions": [],
            "constraints": ["Max reservation length defined per room"],
            "exceptions": ["Duration limit exceeded"]
        },
        {
            "id": "23",
            "actor": "Student",
            "action": "Book outside hours",
            "system_response": "Reject the request and display opening hours.",
            "preconditions": ["Booking time outside room opening hours"],
            "constraints": [],
            "exceptions": ["Operating hours violation"]
        },
        {
            "id": "24",
            "actor": "Staff",
            "action": "Block room for maintenance",
            "system_response": "Hide room from availability search during maintenance.",
            "preconditions": ["Authorized staff access"],
            "constraints": [],
            "exceptions": []
        },
        {
            "id": "25",
            "actor": "System",
            "action": "Handle maintenance conflict",
            "system_response": "Notify students and suggest alternative rooms.",
            "preconditions": ["Maintenance block overlaps existing bookings"],
            "constraints": ["Alternatives must be of similar capacity"],
            "exceptions": ["No alternative rooms available"]
        },
        {
            "id": "26",
            "actor": "Student",
            "action": "Create group booking",
            "system_response": "Send invitations to all group members; allow them to accept or decline.",
            "preconditions": ["Room type is designated for groups"],
            "constraints": ["At least 3 members must be invited"],
            "exceptions": []
        },
        {
            "id": "27",
            "actor": "System",
            "action": "Monitor group acceptance",
            "system_response": "Prompt organizer student to confirm or cancel the booking.",
            "preconditions": ["Fewer than 50% of invitees have accepted", "Current time is 2 hours before start"],
            "constraints": ["Notification must be sent to the organizer"],
            "exceptions": []
        },
        {
            "id": "28",
            "actor": "Student",
            "action": "Remove invited student",
            "system_response": "Remove student from the group booking and notify them of the change.",
            "preconditions": ["Action performed before reservation start time"],
            "constraints": [],
            "exceptions": []
        },
        {
            "id": "29",
            "actor": "Student",
            "action": "View/Export bookings",
            "system_response": "Provide a calendar view of reservations and allow iCalendar file export.",
            "preconditions": ["Student is authenticated"],
            "constraints": ["Export must be compatible with iCalendar (.ics) specification"],
            "exceptions": []
        },
        {
            "id": "30",
            "actor": "Unauthenticated User",
            "action": "View availability",
            "system_response": "Provide read-only access to room availability and prompt for authentication",
            "preconditions": [],
            "constraints": ["university SSO authentication required for full access and booking functionality"],
            "exceptions": []
        },
        {
            "id": "31",
            "actor": "System",
            "action": "Protect personal data",
            "system_response": "Encrypt student data at rest and use TLS for all transmissions.",
            "preconditions": [],
            "constraints": ["Applies to name, email, and student ID", "transmission must uses TLS"],
            "exceptions": []
        },
        {
            "id": "32",
            "actor": "Student",
            "action": "Report room issue",
            "system_response": "Create a maintenance ticket and notify the administrative staff.",
            "preconditions": ["Student is logged in"],
            "constraints": ["Include Room ID and issue description"],
            "exceptions": []
        },
        {
            "id": "33",
            "actor": "System",
            "action": "Handle critical issue",
            "system_response": "Automatically block the room from future availability.",
            "preconditions": ["Issue is marked as 'Critical' by administrative staff"],
            "constraints": ["Room remains hidden until status is updated to 'Resolved'"],
            "exceptions": []
        },
        {
            "id": "34",
            "actor": "System",
            "action": "Enforce fair-use acceptance",
            "system_response": "Display the fair-use policy and block booking until accepted.",
            "preconditions": ["User is making their first-ever booking"],
            "constraints": ["Explicit acceptance (checkbox or button) required", "Policy must be displayed before booking"],
            "exceptions": ["Policy not accepted"]
        },
        {
            "id": "35",
            "actor": "System",
            "action": "Enforce fair-use policy",
            "system_response": "Issue a warning to the student and escalate to privilege suspension if repeated.",
            "preconditions": ["System detects a policy violation (e.g., automated scripts)"],
            "constraints": [],
            "exceptions": ["Privilege suspension applied"]
        },
        {
            "id": "36",
            "actor": "Administrative Staff",
            "action": "Views room utilization reports",
            "system_response": "Displays summaries of room usage frequency and identifies peak usage times.",
            "preconditions": [],
            "constraints": ["Report must cover exactly the previous 30 days of data"],
            "exceptions": []
        },
        {
            "id": "37",
            "actor": "System",
            "action": "Process search queries",
            "system_response": "Executes search and returns results to the user.",
            "preconditions": ["Normal system load conditions"],
            "constraints": ["Response time â‰¤ 2 seconds for 95% of requests"],
            "exceptions": []
        },
        {
            "id": "38",
            "actor": "System",
            "action": "Manage notification failure",
            "system_response": "Queue outgoing notifications and attempt redelivery.",
            "preconditions": ["Internal or external notification service is unavailable"],
            "constraints": ["Retry for up to 24 hours", "Ensure zero data loss for alerts"],
            "exceptions": ["Notification service failure"]
        },
        {
            "id": "39",
            "actor": "User",
            "action": "Switch language",
            "system_response": "Update all UI labels, navigation, and messages to selected language.",
            "preconditions": [],
            "constraints": ["Must support English and Italian at a minimum"],
            "exceptions": []
        },
        {
            "id": "40",
            "actor": "System",
            "action": "Handle concurrent requests",
            "system_response": "Perform atomic allocation or return conflict error.",
            "preconditions": ["Simultaneous requests for same seats", "Insufficient capacity"],
            "constraints": ["Room capacity must never be exceeded","Seat allocation must be atomic"],
            "exceptions": ["Reservation conflict error"]
        },
        {
            "id": "41",
            "actor": "Student",
            "action": "Create recurring reservation",
            "system_response": "Generate a series of weekly reservations for up to 4 weeks.",
            "preconditions": ["Each occurrence satisfies booking limits","Each occurrence satisfies opening hours"],
            "constraints": ["Maximum of 4 consecutive weeks"],
            "exceptions": []
        },
        {
            "id": "42",
            "actor": "System",
            "action": "Handle late check-in",
            "system_response": "Record check-in while maintaining the original end time.",
            "preconditions": ["Student checks in after start time but within 15 minutes"],
            "constraints": ["No duration extension permitted", "Check-in must be recorded within 15 minutes past start time"],
            "exceptions": []
        },
        {
            "id": "43",
            "actor": "System",
            "action": "Display room location details",
            "system_response": "Display building, floor, and a link to the room floor plan before booking confirmation.",
            "preconditions": ["Before booking is confirmed"],
            "constraints": ["Must display building", "Must display floor", "Must provide floor plan link"],
            "exceptions": []
        },
        {
            "id": "44",
            "actor": "Administrative Staff",
            "action": "Define cleaning buffer time",
            "system_response": "Save cleaning buffer time for the room and prevent bookings that violate the buffer period.",
            "preconditions": ["Authorized staff access"],
            "constraints": ["Buffer time must be defined per room", "System must prevent bookings that violate the buffer"],
            "exceptions": []
        },
        {
            "id": "45",
            "actor": "System",
            "action": "Automatically record check-in via occupancy sensors",
            "system_response": "Automatically record check-in when occupancy is detected within the allowed check-in window.",
            "preconditions": ["Occupancy sensors are available for the room", "Occupancy is detected within the allowed check-in window"],
            "constraints": ["Must be within the allowed check-in window"],
            "exceptions": []
        },
        {
            "id": "46",
            "actor": "System",
            "action": "Maintain system uptime",
            "system_response": "Maintain at least 99.5% monthly uptime, excluding scheduled maintenance windows announced in advance.",
            "preconditions": [],
            "constraints": ["At least 99.5% monthly uptime", "Excludes scheduled maintenance windows announced in advance"],
            "exceptions": []
        },
        {
            "id": "47",
            "actor": "System",
            "action": "Enforce API rate limiting",
            "system_response": "Enforce rate limiting of 60 requests per minute per user on all public API endpoints; return HTTP 429 error with retry-after time if limit is exceeded.",
            "preconditions": [],
            "constraints": ["60 requests per minute per user limit", "Applies to all public API endpoints"],
            "exceptions": ["Rate limit exceeded - HTTP 429 error returned"]
        },
        {
            "id": "48",
            "actor": "Unauthenticated User",
            "action": "View room availability and features",
            "system_response": "Display room availability and room features while hiding personal booking details and user identifiers.",
            "preconditions": [],
            "constraints": ["Must hide personal booking details", "Must hide user identifiers"],
            "exceptions": []
        },
        {
            "id": "49",
            "actor": "System",
            "action": "Enforce access control and audit logging",
            "system_response": "Require role-based access control for staff actions that change system state and record them in an immutable audit log.",
            "preconditions": [],
            "constraints": ["Role-based access control required", "Audit log must be immutable"],
            "exceptions": []
        },
        {
            "id": "50",
            "actor": "System",
            "action": "Handle room occupancy conflict",
            "system_response": "Create a priority ticket for staff and offer alternative rooms of similar capacity when available.",
            "preconditions": ["Student reports that a booked room is occupied by others at the start time"],
            "constraints": ["Priority ticket must be created", "Alternative rooms must be of similar capacity", "Alternatives only offered when available"],
            "exceptions": []
        }
    ]
}